import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties

# 设置字体为 Times New Roman 和字体大小为 20
font1 = FontProperties(family='Times New Roman', size=25, weight='bold')
font2 = FontProperties(family='Times New Roman', size=20, weight='bold')

# 假设你有四个算法的F-score分布数据
FedCorr = [0.8409703373908997, 1.0, 0.930051863193512, 0.926339328289032, 0.9205240607261658, 1.0, 0.9222519993782043, 0.9271089434623718, 0.9096572399139404, 0.8938739895820618, 1.0, 1.0, 1.0, 0.9336283206939697, 1.0, 0.9322382807731628, 0.9861932992935181, 1.0, 1.0, 1.0, 0.9115815758705139, 1.0, 0.9875665903091431, 0.9245741963386536, 0.9999999403953552, 1.0, 0.9387186765670776, 0.9505581855773926, 0.9879679083824158, 0.9267193078994751, 0.9052823185920715, 0.9999999403953552, 0.8711790442466736, 0.9348044395446777, 1.0, 0.9246487617492676, 1.0, 1.0, 0.8073770403862, 1.0, 0.9873417615890503, 0.920634925365448, 0.9429429769515991, 1.0, 0.9924241900444031, 1.0, 1.0, 0.8317461013793945, 0.8419783115386963, 1.0, 0.9479512572288513, 0.8534066677093506, 1.0, 1.0, 1.0, 1.0, 0.9489796161651611, 0.8799999952316284, 1.0, 0.8877374529838562, 0.9277504086494446, 1.0, 0.8860028982162476, 0.9999999403953552, 0.9999999403953552, 1.0, 1.0, 0.8561946749687195, 0.9471799731254578, 0.9411765336990356, 1.0, 0.9999999403953552, 0.9076790809631348, 1.0, 1.0, 0.9373040199279785, 1.0, 1.0, 0.9201388955116272, 0.9096477627754211, 0.9135300517082214, 1.0, 1.0, 0.8925233483314514, 1.0, 0.9999999403953552, 1.0, 1.0, 0.8667791485786438, 1.0, 0.8875969052314758, 0.9103943109512329, 1.0, 0.9999999403953552, 0.9192100167274475, 1.0, 1.0, 1.0, 0.8990435600280762, 0.8579766750335693]
FedFixer =  [0.9219858646392822, 0.993630588054657, 0.9593496918678284, 0.9415807127952576, 0.8231510519981384, 0.9963153600692749, 0.9025270342826843, 0.9640787839889526, 0.9678900241851807, 0.9658119678497314, 0.998389720916748, 0.994753360748291, 0.9926393628120422, 0.961730420589447, 0.9930069446563721, 0.9609236121177673, 0.9882352948188782, 0.9913875460624695, 0.9906347393989563, 0.9922992587089539, 0.877284586429596, 0.9927611351013184, 0.9875665903091431, 0.9321788549423218, 0.9848812222480774, 0.9957326054573059, 0.8606060147285461, 0.9692981839179993, 0.9960211515426636, 0.8833333253860474, 0.8679999709129333, 0.9931033849716187, 0.965413510799408, 0.9622641205787659, 0.9927007555961609, 0.9253731369972229, 0.9946332573890686, 0.9898074865341187, 0.9773463010787964, 0.9962547421455383, 0.9836660623550415, 0.9161290526390076, 0.8725489974021912, 0.9861496090888977, 0.9924241900444031, 0.9984615445137024, 0.9900552034378052, 0.9579439759254456, 0.9397162795066833, 0.993617057800293, 0.9057970643043518, 0.963087260723114, 0.9953314661979675, 0.989272952079773, 0.9923664331436157, 0.9863013625144958, 0.9471265077590942, 0.9011628031730652, 0.9905741214752197, 0.9611650109291077, 0.816901445388794, 0.9989372491836548, 0.9689922332763672, 0.9810526371002197, 0.9962034225463867, 0.9949874877929688, 0.9978858232498169, 0.9612188339233398, 0.8090909123420715, 0.9324617981910706, 0.9929453134536743, 0.995337963104248, 0.9711111783981323, 0.9905882477760315, 0.9961832761764526, 0.882882833480835, 0.9974554777145386, 0.9966216087341309, 0.9633251428604126, 0.8703703880310059, 0.9123377203941345, 0.987043559551239, 0.993565022945404, 0.9510961771011353, 0.997389018535614, 0.9941263198852539, 0.9943955540657043, 0.9947328567504883, 0.9581394791603088, 0.9949066042900085, 0.9520958065986633, 0.9611399173736572, 0.995555579662323, 0.9940000176429749, 0.9797979593276978, 0.989272952079773, 0.9958088994026184, 0.9884225726127625, 0.9433333277702332, 0.947945237159729]
 # 长度为100的列表
MR = [0.47228917479515076, 1.0, 0.7248321771621704, 0.7620286345481873, 0.3401109278202057, 1.0, 0.48440366983413696, 0.7913832664489746, 0.7496464252471924, 0.8187001347541809, 1.0, 1.0, 1.0, 0.7553444504737854, 1.0, 0.8343891501426697, 1.0, 1.0, 1.0, 1.0, 0.5038961172103882, 1.0, 1.0, 0.6897746920585632, 1.0, 1.0, 0.33191487193107605, 0.8083832263946533, 0.9999999403953552, 0.37552741169929504, 0.5549132823944092, 1.0, 0.8040770292282104, 0.8116254210472107, 0.9999999403953552, 0.5018051266670227, 1.0, 1.0, 0.6774774193763733, 1.0, 1.0, 0.5174129605293274, 0.4523809552192688, 1.0, 1.0, 1.0, 1.0, 0.7263843417167664, 0.7322121262550354, 1.0, 0.5051546692848206, 0.8278905749320984, 1.0, 1.0, 1.0, 1.0, 0.7155634760856628, 0.5999999642372131, 1.0, 0.7844037413597107, 0.29729726910591125, 1.0, 0.7390300631523132, 1.0, 0.9999999403953552, 1.0, 1.0, 0.8229548931121826, 0.24809160828590393, 0.5689900517463684, 1.0, 1.0, 0.8534397482872009, 1.0, 1.0, 0.5432098507881165, 1.0, 1.0, 0.7929515838623047, 0.5013774037361145, 0.6705201864242554, 1.0, 1.0, 0.7366863489151001, 1.0, 1.0, 1.0, 1.0, 0.7443478107452393, 1.0, 0.6848249435424805, 0.7570093274116516, 0.9999999403953552, 1.0, 0.7940199375152588, 1.0, 1.0, 1.0, 0.7016645669937134, 0.78245609998703]
   # 长度为100的列表
RFL = [0.7513811588287354, 0.9847389459609985, 0.8838951587677002, 0.8684627413749695, 0.6068965792655945, 0.9881129264831543, 0.7246375679969788, 0.9211986660957336, 0.9106753468513489, 0.9164086580276489, 0.9886178970336914, 0.9851694703102112, 0.9905163049697876, 0.8993710279464722, 0.991439700126648, 0.9296740889549255, 0.9842519760131836, 0.9894534349441528, 0.9895833134651184, 0.9900771975517273, 0.7702702879905701, 0.9906736016273499, 0.9893616437911987, 0.8598130941390991, 0.9881592988967896, 0.9928673505783081, 0.626086950302124, 0.9300411343574524, 0.9906666874885559, 0.6224784255027771, 0.7676056027412415, 0.9931033849716187, 0.8932584524154663, 0.9114583134651184, 0.9905955791473389, 0.7262569665908813, 0.9901167750358582, 0.980571448802948, 0.8595988750457764, 0.9867675304412842, 0.9873417615890503, 0.7530648112297058, 0.7081711888313293, 0.9889503121376038, 0.9866666793823242, 0.9922600984573364, 0.9900552034378052, 0.8908297419548035, 0.8710218071937561, 0.9849784970283508, 0.7019497752189636, 0.9273468852043152, 0.9925094246864319, 0.9844311475753784, 0.9885057806968689, 0.9909090995788574, 0.8631578087806702, 0.7927461266517639, 0.9818496108055115, 0.9066666960716248, 0.572115421295166, 0.9925134181976318, 0.9094203114509583, 0.9821240901947021, 0.9931454658508301, 0.9822335243225098, 0.9900568127632141, 0.9216216206550598, 0.5085713863372803, 0.7711712121963501, 0.9920565485954285, 0.9941657185554504, 0.9318918585777283, 0.989399254322052, 0.997140109539032, 0.7407407164573669, 0.9914675951004028, 0.9906541705131531, 0.9230769276618958, 0.6959706544876099, 0.8345978260040283, 0.9917936325073242, 0.9870465993881226, 0.8938907384872437, 0.992125928401947, 0.9874352812767029, 0.988727867603302, 0.995488703250885, 0.9023860692977905, 0.9888983964920044, 0.8709677457809448, 0.9022005200386047, 0.9874551892280579, 0.9848637580871582, 0.928909957408905, 0.9832133650779724, 0.9932773113250732, 0.9884225726127625, 0.8738461136817932, 0.8900255560874939]
    # 长度为100的列表

# 将数据整理成一个DataFrame，方便绘图
import pandas as pd

data = pd.DataFrame({
    'FedCorr': FedCorr,
    'FedFixer': FedFixer,
    'MR': MR,
    'RFL': RFL
})

# 创建小提琴图
ax = sns.violinplot(data=data, palette='Set1', inner='quartile', linewidth=1.5)

# 调整坐标轴线的线宽为2
ax.spines['top'].set_linewidth(1.5)
ax.spines['bottom'].set_linewidth(1.5)
ax.spines['left'].set_linewidth(1.5)
ax.spines['right'].set_linewidth(1.5)

# 调整坐标轴刻度线的线宽为1.5
ax.tick_params(axis='both', width=1.5)

# 调整坐标轴刻度标签的线宽为1.5
ax.xaxis.label.set_size(10)
ax.yaxis.label.set_size(10)

# 设置坐标轴刻度标签的字体为 Times New Roman 和字体大小为 20，加粗
ax.set_xticks(ax.get_xticks())
ax.set_yticks(ax.get_yticks())
ax.set_xticklabels(ax.get_xticklabels(), fontproperties=font2)
ax.set_yticklabels(ax.get_yticklabels(), fontproperties=font2)

# 添加标题和标签
plt.title('Clients\' F-score Distribution', fontproperties=font1)
plt.xlabel('Algorithm', fontproperties=font1)
plt.ylabel('F-score', fontproperties=font1)

# 保存图表为高清的PDF文件
plt.savefig('violin_plot_nonIID_rou_0.5_tau_0.3.pdf', dpi=300, bbox_inches='tight')

# 显示图形
plt.show()
