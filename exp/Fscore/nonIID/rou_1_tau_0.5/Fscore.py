import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties

# 设置字体为 Times New Roman 和字体大小为 20
font1 = FontProperties(family='Times New Roman', size=25, weight='bold')
font2 = FontProperties(family='Times New Roman', size=20, weight='bold')

# 假设你有四个算法的F-score分布数据
FedCorr = [0.40316206216812134, 0.5632839202880859, 0.6164154410362244, 0.6497174501419067, 0.536180317401886, 0.6185147762298584, 0.5444645881652832, 0.6659877896308899, 0.635108470916748, 0.6997971534729004, 0.5550351142883301, 0.6497175097465515, 0.6534653902053833, 0.6034985780715942, 0.6183369159698486, 0.6973244547843933, 0.5793872475624084, 0.6121371984481812, 0.6140602231025696, 0.5897036194801331, 0.5821138024330139, 0.5747800469398499, 0.4318181574344635, 0.5953390002250671, 0.7428572177886963, 0.6122047305107117, 0.5665399432182312, 0.6761711239814758, 0.6601770520210266, 0.5627836585044861, 0.612716794013977, 0.5902777314186096, 0.6760563850402832, 0.6349614262580872, 0.4897959232330322, 0.606666624546051, 0.5608194470405579, 0.6452599167823792, 0.5544554591178894, 0.5913271903991699, 0.6750629544258118, 0.6153846383094788, 0.6230158805847168, 0.7094473838806152, 0.6073298454284668, 0.6301369667053223, 0.6156201958656311, 0.6030533909797668, 0.5774435997009277, 0.6309695839881897, 0.6041666865348816, 0.6897638440132141, 0.6203345656394958, 0.6802507638931274, 0.5457102656364441, 0.5526316165924072, 0.5402504205703735, 0.5632798671722412, 0.6741825938224792, 0.7272727489471436, 0.6125933527946472, 0.6268221735954285, 0.6159420609474182, 0.5538922548294067, 0.538375973701477, 0.5615941882133484, 0.5948616862297058, 0.6769230961799622, 0.5899280309677124, 0.6336405873298645, 0.5863354206085205, 0.4991212487220764, 0.6757321953773499, 0.6081300973892212, 0.6589743494987488, 0.6404958367347717, 0.6101295351982117, 0.634482741355896, 0.6652078628540039, 0.4369369447231293, 0.609375, 0.5326460599899292, 0.5703839063644409, 0.6158357858657837, 0.6612149477005005, 0.616161584854126, 0.5711035132408142, 0.5898520350456238, 0.6520000100135803, 0.6231038570404053, 0.5766233801841736, 0.6013824939727783, 0.6309378743171692, 0.5566713809967041, 0.6380090713500977, 0.5876460671424866, 0.5659472346305847, 0.634765625, 0.5972973108291626, 0.663625955581665]  # 长度为100的列表
FedFixer = [0.703703761100769, 0.4754716753959656, 0.8226220607757568, 0.8322718143463135, 0.5782312750816345, 0.8376811742782593, 0.6744186282157898, 0.8635014295578003, 0.7911393046379089, 0.8487282991409302, 0.5614035129547119, 0.8136881589889526, 0.8240165710449219, 0.811188817024231, 0.7861272096633911, 0.8495575189590454, 0.8193832039833069, 0.612500011920929, 0.6496349573135376, 0.8201439380645752, 0.664634108543396, 0.6009852290153503, 0.6227545142173767, 0.7327044010162354, 0.8402153849601746, 0.6488094925880432, 0.6256983876228333, 0.8622754812240601, 0.8096886277198792, 0.6017698645591736, 0.6759443283081055, 0.8735631704330444, 0.8511383533477783, 0.8280961513519287, 0.7564469575881958, 0.6814160346984863, 0.596774160861969, 0.7014924883842468, 0.839506208896637, 0.626943051815033, 0.8148147463798523, 0.6962305903434753, 0.6358381509780884, 0.7908163070678711, 0.7405858039855957, 0.800561785697937, 0.7946428656578064, 0.8206686973571777, 0.7730337381362915, 0.8267223238945007, 0.6505189538002014, 0.8396322727203369, 0.7717391848564148, 0.8221709132194519, 0.8054298162460327, 0.845070481300354, 0.7938461303710938, 0.6709265112876892, 0.8302468657493591, 0.8847184777259827, 0.6112759709358215, 0.7961165308952332, 0.7920227646827698, 0.6131386756896973, 0.5606694221496582, 0.5882353186607361, 0.7247706055641174, 0.8401486873626709, 0.5677965879440308, 0.7488789558410645, 0.6039215326309204, 0.7371794581413269, 0.840940535068512, 0.47133755683898926, 0.8126094937324524, 0.6399999856948853, 0.7694858908653259, 0.8216560482978821, 0.8338368535041809, 0.7348836660385132, 0.7824267745018005, 0.7361111044883728, 0.4804469347000122, 0.8301886916160583, 0.8480801582336426, 0.7216116786003113, 0.6210269331932068, 0.4754098355770111, 0.805031418800354, 0.7479999661445618, 0.7510204315185547, 0.8061224818229675, 0.8205980658531189, 0.6089743375778198, 0.8259385228157043, 0.601941704750061, 0.5956113338470459, 0.682692289352417, 0.7751938104629517, 0.85161292552948]
  # 长度为100的列表
MR = [0.4161490797996521, 0.25969645380973816, 0.6161137819290161, 0.7079934477806091, 0.3488372266292572, 0.685543954372406, 0.4358353316783905, 0.7252124547958374, 0.671875, 0.7473841309547424, 0.40341877937316895, 0.6979865431785583, 0.728205144405365, 0.6625953912734985, 0.6479289531707764, 0.7265917658805847, 0.6601467132568359, 0.44874274730682373, 0.40271490812301636, 0.6775631308555603, 0.39007091522216797, 0.31013917922973633, 0.4563106596469879, 0.6048110127449036, 0.7594107985496521, 0.31794869899749756, 0.3492063581943512, 0.693548321723938, 0.7095959186553955, 0.3442623019218445, 0.5287356376647949, 0.5129683017730713, 0.6383647918701172, 0.7077364325523376, 0.48962655663490295, 0.46226412057876587, 0.2345132827758789, 0.3526315987110138, 0.647191047668457, 0.42357271909713745, 0.7068273425102234, 0.47727274894714355, 0.4000000059604645, 0.7188612222671509, 0.5540540218353271, 0.6759690046310425, 0.6133333444595337, 0.7091634273529053, 0.6859903335571289, 0.7255814075469971, 0.4285714626312256, 0.7248484492301941, 0.5394991040229797, 0.6961771249771118, 0.600389838218689, 0.6042296290397644, 0.5999999642372131, 0.5340313911437988, 0.7419354915618896, 0.6708464026451111, 0.2759999930858612, 0.5982608199119568, 0.6261398196220398, 0.3460559844970703, 0.26843100786209106, 0.35428571701049805, 0.4622093141078949, 0.732899010181427, 0.3046683073043823, 0.5321428179740906, 0.33009710907936096, 0.5069767236709595, 0.7853535413742065, 0.21776503324508667, 0.6709129810333252, 0.37710440158843994, 0.6151761412620544, 0.6883721351623535, 0.7138809561729431, 0.43478262424468994, 0.6329588294029236, 0.5135135054588318, 0.31213870644569397, 0.6971428394317627, 0.6857143044471741, 0.616949200630188, 0.4188033938407898, 0.3013182580471039, 0.6754966974258423, 0.5696465969085693, 0.6229508519172668, 0.6518282890319824, 0.597353458404541, 0.3553299307823181, 0.6609071493148804, 0.28136882185935974, 0.38178637623786926, 0.3689320385456085, 0.6351351141929626, 0.7124260663986206]
      # 长度为100的列表
RFL = [0.517241358757019, 0.32332563400268555, 0.7379912734031677, 0.7395833134651184, 0.4219408929347992, 0.7519379258155823, 0.5590062737464905, 0.771573543548584, 0.7407407164573669, 0.7970296740531921, 0.4430380165576935, 0.7539823055267334, 0.7282415628433228, 0.7042801380157471, 0.7184986472129822, 0.7962962985038757, 0.7158671021461487, 0.47999998927116394, 0.4773868918418884, 0.7148594260215759, 0.5612244606018066, 0.3786982297897339, 0.5514403581619263, 0.6743185520172119, 0.8146965503692627, 0.3999999463558197, 0.3928571045398712, 0.8062826991081238, 0.7549669146537781, 0.4672364592552185, 0.5813148617744446, 0.7393364906311035, 0.774399995803833, 0.7606111764907837, 0.6137339472770691, 0.5306122303009033, 0.3710843324661255, 0.5519125461578369, 0.7096773982048035, 0.5130435228347778, 0.7385621070861816, 0.5499058365821838, 0.4592592716217041, 0.7893569469451904, 0.6527514457702637, 0.7426272630691528, 0.7326732277870178, 0.7058823704719543, 0.6904761791229248, 0.7697974443435669, 0.5154639482498169, 0.7881678938865662, 0.6187624931335449, 0.7764227390289307, 0.6830189228057861, 0.7118644118309021, 0.6682577729225159, 0.6121371984481812, 0.7457627654075623, 0.8196721076965332, 0.42798352241516113, 0.6831275224685669, 0.7119438648223877, 0.4730077087879181, 0.3205417990684509, 0.45695364475250244, 0.5500848889350891, 0.7719869613647461, 0.3615023195743561, 0.6530612111091614, 0.39540231227874756, 0.5714285969734192, 0.7705957293510437, 0.30882352590560913, 0.7634068727493286, 0.48571425676345825, 0.6859756112098694, 0.7160839438438416, 0.7598944306373596, 0.5953177213668823, 0.6666666865348816, 0.5699745416641235, 0.33707863092422485, 0.7317072749137878, 0.7708029747009277, 0.6101694703102112, 0.49905484914779663, 0.2962963283061981, 0.7989556193351746, 0.6587837934494019, 0.6644518375396729, 0.7280966639518738, 0.7573415637016296, 0.49635037779808044, 0.7426900267601013, 0.4244372546672821, 0.42265793681144714, 0.5315161943435669, 0.7048611044883728, 0.7734487056732178]
     # 长度为100的列表

# 将数据整理成一个DataFrame，方便绘图
import pandas as pd

data = pd.DataFrame({
    'FedCorr': FedCorr,
    'FedFixer': FedFixer,
    'MR': MR,
    'RFL': RFL
})

# 创建小提琴图
ax = sns.violinplot(data=data, palette='Set1', inner='quartile', linewidth=1.5)

# 调整坐标轴线的线宽为2
ax.spines['top'].set_linewidth(1.5)
ax.spines['bottom'].set_linewidth(1.5)
ax.spines['left'].set_linewidth(1.5)
ax.spines['right'].set_linewidth(1.5)

# 调整坐标轴刻度线的线宽为1.5
ax.tick_params(axis='both', width=1.5)

# 调整坐标轴刻度标签的线宽为1.5
ax.xaxis.label.set_size(10)
ax.yaxis.label.set_size(10)

# 设置坐标轴刻度标签的字体为 Times New Roman 和字体大小为 20，加粗
ax.set_xticks(ax.get_xticks())
ax.set_yticks(ax.get_yticks())
ax.set_xticklabels(ax.get_xticklabels(), fontproperties=font2)
ax.set_yticklabels(ax.get_yticklabels(), fontproperties=font2)

# 添加标题和标签
plt.title('Clients\' F-score Distribution', fontproperties=font1)
plt.xlabel('Algorithm', fontproperties=font1)
plt.ylabel('F-score', fontproperties=font1)

# 保存图表为高清的PDF文件
plt.savefig('violin_plot_nonIID_rou_1_tau_0.5.pdf', dpi=300, bbox_inches='tight')

# 显示图形
plt.show()
