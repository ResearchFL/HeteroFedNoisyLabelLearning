import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties

# 设置字体为 Times New Roman 和字体大小为 20
font1 = FontProperties(family='Times New Roman', size=25, weight='bold')
font2 = FontProperties(family='Times New Roman', size=20, weight='bold')

# 假设你有四个算法的F-score分布数据
FedCorr = [0.6648865342140198, 0.6282579302787781, 0.686842143535614, 0.636612057685852, 0.6631016135215759, 0.6301369667053223, 0.6754967570304871, 0.6639893054962158, 0.6586021780967712, 0.6842800378799438, 0.6772486567497253, 0.6291208863258362, 0.6789960861206055, 0.636612057685852, 0.5974754691123962, 0.7309645414352417, 0.7014340758323669, 0.6666666865348816, 0.6495263576507568, 0.5935302376747131, 0.6504723429679871, 0.6282579302787781, 0.6988266110420227, 0.6945169568061829, 0.7046632170677185, 0.6413043737411499, 0.6383561491966248, 0.6824769377708435, 0.6448087096214294, 0.6476964950561523, 0.7005208134651184, 0.6185853481292725, 0.6495263576507568, 0.7012987732887268, 0.6675567030906677, 0.6522911787033081, 0.6476190090179443, 0.6684420704841614, 0.580369770526886, 0.6772486567497253, 0.6962190866470337, 0.640326976776123, 0.6657717823982239, 0.7029832005500793, 0.6772486567497253, 0.6468200087547302, 0.7046632170677185, 0.6244842410087585, 0.6996098756790161, 0.6394557952880859, 0.6394557952880859, 0.6522911787033081, 0.6468200087547302, 0.6666666865348816, 0.6876640319824219, 0.6225895285606384, 0.6816380620002747, 0.6702128052711487, 0.6852590441703796, 0.6522911787033081, 0.6187845468521118, 0.6833773255348206, 0.631001353263855, 0.6338797807693481, 0.6327372193336487, 0.671978771686554, 0.688654363155365, 0.7096774578094482, 0.6711052060127258, 0.6754967570304871, 0.6737400889396667, 0.6754967570304871, 0.7014341354370117, 0.6149585247039795, 0.671978771686554, 0.6789960861206055, 0.6928105354309082, 0.6328766942024231, 0.6413043737411499, 0.6376022100448608, 0.60808926820755, 0.6851119995117188, 0.6320109367370605, 0.7012987732887268, 0.6962190866470337, 0.6876640915870667, 0.6648865342140198, 0.6431479454040527, 0.6728723645210266, 0.6893840432167053, 0.6559140086174011, 0.6196404099464417, 0.5835694074630737, 0.6468200087547302, 0.6586021780967712, 0.6824769377708435, 0.6449864506721497, 0.6458615660667419, 0.5754985809326172, 0.6234482526779175]
FedFixer = [0.6865671277046204, 0.4745762348175049, 0.8237885236740112, 0.8375000357627869, 0.6637554168701172, 0.8304762244224548, 0.7434210777282715, 0.8455882668495178, 0.8448598384857178, 0.8388350009918213, 0.6944444179534912, 0.8470587730407715, 0.8521126508712769, 0.8548387289047241, 0.798353910446167, 0.8870967626571655, 0.8036117553710938, 0.7236842513084412, 0.6842105388641357, 0.8411633372306824, 0.6666666269302368, 0.5263158082962036, 0.7415730953216553, 0.7913978695869446, 0.8861646056175232, 0.5714285373687744, 0.6666666865348816, 0.8576778769493103, 0.8516377806663513, 0.6877470016479492, 0.7653631567955017, 0.844621479511261, 0.8362235426902771, 0.854092538356781, 0.7245657444000244, 0.7210031747817993, 0.5666666626930237, 0.6739926338195801, 0.831556499004364, 0.698113203048706, 0.8435852527618408, 0.6573815941810608, 0.6376811265945435, 0.8587155938148499, 0.800000011920929, 0.8248587846755981, 0.8262910842895508, 0.8160920143127441, 0.854166567325592, 0.8458646535873413, 0.6962962746620178, 0.8423005938529968, 0.7064935564994812, 0.8697248101234436, 0.769230842590332, 0.821576714515686, 0.7873302698135376, 0.7430025339126587, 0.8479427099227905, 0.8282097578048706, 0.6159999370574951, 0.7681499719619751, 0.8466256856918335, 0.5851852297782898, 0.5263157486915588, 0.6304347515106201, 0.654321014881134, 0.8603895306587219, 0.5873016119003296, 0.7683283686637878, 0.6614173054695129, 0.7487179636955261, 0.8630849123001099, 0.45348840951919556, 0.832451581954956, 0.6631578803062439, 0.821670413017273, 0.850715696811676, 0.8549019694328308, 0.697068452835083, 0.8131417036056519, 0.698060929775238, 0.5989304780960083, 0.8350730538368225, 0.871252179145813, 0.7674419283866882, 0.626505970954895, 0.5, 0.8315412402153015, 0.7755101919174194, 0.8191721439361572, 0.8115384578704834, 0.7983870506286621, 0.6285713911056519, 0.8377359509468079, 0.5892857313156128, 0.5795918107032776, 0.680351972579956, 0.8227272629737854, 0.8188976645469666]
  # 长度为100的列表
MR = [0.4008908271789551, 0.2634146511554718, 0.6427221298217773, 0.6568807363510132, 0.32289156317710876, 0.6939501762390137, 0.4233261048793793, 0.6944444179534912, 0.6459853649139404, 0.7398648858070374, 0.4270152151584625, 0.6666666269302368, 0.7079037427902222, 0.6284658312797546, 0.6557971239089966, 0.744107723236084, 0.6457564234733582, 0.4588744342327118, 0.37155964970588684, 0.6666666865348816, 0.453744500875473, 0.25329816341400146, 0.5414140820503235, 0.5924595594406128, 0.7762128114700317, 0.2906404137611389, 0.35154393315315247, 0.7240259647369385, 0.6770833134651184, 0.3253588378429413, 0.497854083776474, 0.6174241900444031, 0.7290970087051392, 0.7015707492828369, 0.477419376373291, 0.4618644118309021, 0.2200489044189453, 0.38663482666015625, 0.5863309502601624, 0.41850221157073975, 0.7381370663642883, 0.47010305523872375, 0.4502164423465729, 0.7201309204101562, 0.6065259575843811, 0.6825938820838928, 0.6325411200523376, 0.6642729043960571, 0.608208954334259, 0.714285671710968, 0.39461883902549744, 0.7337884306907654, 0.48049283027648926, 0.6642599701881409, 0.5747126340866089, 0.6514084339141846, 0.541832685470581, 0.5144032835960388, 0.7128028273582458, 0.7197231650352478, 0.3412322402000427, 0.5833333134651184, 0.6561403274536133, 0.3433874845504761, 0.2760290503501892, 0.3504672944545746, 0.39387306571006775, 0.7015177011489868, 0.291970819234848, 0.5432596206665039, 0.3046683073043823, 0.5425742864608765, 0.7346278429031372, 0.2518159747123718, 0.687391996383667, 0.42450767755508423, 0.5911708474159241, 0.6654611229896545, 0.6940171122550964, 0.4611973166465759, 0.6446886658668518, 0.5226337313652039, 0.25247523188591003, 0.6382189393043518, 0.7040280103683472, 0.597353458404541, 0.4692482650279999, 0.25247523188591003, 0.6832740306854248, 0.5536723136901855, 0.6526315808296204, 0.6666666865348816, 0.6604823470115662, 0.3486238718032837, 0.7317880988121033, 0.3333333134651184, 0.33023256063461304, 0.44044944643974304, 0.6201834678649902, 0.6476868391036987]
      # 长度为100的列表
RFL = [0.5185185670852661, 0.31446540355682373, 0.7096773386001587, 0.7434555292129517, 0.40519481897354126, 0.7551724314689636, 0.5484633445739746, 0.7836456298828125, 0.7628865838050842, 0.7980294823646545, 0.5995315909385681, 0.7744227647781372, 0.7907742857933044, 0.7513227462768555, 0.7252747416496277, 0.8235293626785278, 0.7090559005737305, 0.5560975670814514, 0.4999999403953552, 0.7166362404823303, 0.5071769952774048, 0.3893333077430725, 0.6048564910888672, 0.6828358173370361, 0.8069620728492737, 0.43478259444236755, 0.4517766535282135, 0.8160534501075745, 0.7798318862915039, 0.47979798913002014, 0.6157205104827881, 0.7351915836334229, 0.7551020383834839, 0.8083735704421997, 0.6140725016593933, 0.5688073635101318, 0.3255814015865326, 0.5049999952316284, 0.7134935259819031, 0.5655171871185303, 0.7909968495368958, 0.5707864761352539, 0.4848484694957733, 0.8158730268478394, 0.6966291666030884, 0.7373737692832947, 0.6829268336296082, 0.7667844891548157, 0.7353463768959045, 0.7500000596046448, 0.530927836894989, 0.7583892941474915, 0.574999988079071, 0.785591721534729, 0.6522678136825562, 0.7675675749778748, 0.6850394010543823, 0.6215644478797913, 0.7747163772583008, 0.773553729057312, 0.41038966178894043, 0.6497064232826233, 0.781085729598999, 0.44565218687057495, 0.37388721108436584, 0.47570329904556274, 0.5101580023765564, 0.809448778629303, 0.3966941833496094, 0.5990990996360779, 0.4297082722187042, 0.6336206793785095, 0.8274760842323303, 0.27184462547302246, 0.7790507078170776, 0.5636364221572876, 0.701298713684082, 0.7504362463951111, 0.7533783316612244, 0.5298328995704651, 0.7285463809967041, 0.5863636136054993, 0.3641791045665741, 0.7677903175354004, 0.8012819886207581, 0.6666666865348816, 0.5144230723381042, 0.32478630542755127, 0.783171534538269, 0.6653696298599243, 0.7421150803565979, 0.720848023891449, 0.7262773513793945, 0.4902912974357605, 0.7697479128837585, 0.3684210479259491, 0.40871933102607727, 0.5321100950241089, 0.7290076017379761, 0.7385158538818359]
     # 长度为100的列表

# 将数据整理成一个DataFrame，方便绘图
import pandas as pd

data = pd.DataFrame({
    'FedCorr': FedCorr,
    'FedFixer': FedFixer,
    'MR': MR,
    'RFL': RFL
})

# 创建小提琴图
ax = sns.violinplot(data=data, palette='Set1', inner='quartile', linewidth=1.5)

# 调整坐标轴线的线宽为2
ax.spines['top'].set_linewidth(1.5)
ax.spines['bottom'].set_linewidth(1.5)
ax.spines['left'].set_linewidth(1.5)
ax.spines['right'].set_linewidth(1.5)

# 调整坐标轴刻度线的线宽为1.5
ax.tick_params(axis='both', width=1.5)

# 调整坐标轴刻度标签的线宽为1.5
ax.xaxis.label.set_size(10)
ax.yaxis.label.set_size(10)

# 设置坐标轴刻度标签的字体为 Times New Roman 和字体大小为 20，加粗
ax.set_xticks(ax.get_xticks())
ax.set_yticks(ax.get_yticks())
ax.set_xticklabels(ax.get_xticklabels(), fontproperties=font2)
ax.set_yticklabels(ax.get_yticklabels(), fontproperties=font2)

# 添加标题和标签
plt.title('Clients\' F-score Distribution', fontproperties=font1)
plt.xlabel('Algorithm', fontproperties=font1)
plt.ylabel('F-score', fontproperties=font1)

# 保存图表为高清的PDF文件
plt.savefig('violin_plot_IID_rou_1_tau_0.5.pdf', dpi=300, bbox_inches='tight')

# 显示图形
plt.show()
