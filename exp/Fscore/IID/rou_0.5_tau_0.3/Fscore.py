import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties

# 设置字体为 Times New Roman 和字体大小为 20
font1 = FontProperties(family='Times New Roman', size=25, weight='bold')
font2 = FontProperties(family='Times New Roman', size=20, weight='bold')

# 假设你有四个算法的F-score分布数据
FedCorr = [0.945147693157196, 1.0, 0.9130434989929199, 0.9304813146591187, 0.928188681602478, 0.9539749026298523, 0.9373008012771606, 0.9473683834075928, 0.9142237305641174, 0.9189189076423645, 1.0, 1.0, 1.0, 0.9189189076423645, 1.0, 0.9224138259887695, 1.0, 1.0, 1.0, 1.0, 0.9395546317100525, 1.0, 1.0, 0.9235737323760986, 0.9561586976051331, 0.9440338015556335, 0.9304813146591187, 0.9177489280700684, 1.0, 0.9462592601776123, 0.9440338015556335, 1.0, 0.940678060054779, 0.936170220375061, 1.0, 0.9440338015556335, 1.0, 1.0, 0.9304813146591187, 1.0, 1.0, 0.928188681602478, 0.9373008012771606, 1.0, 1.0, 1.0, 1.0, 0.940678060054779, 0.8925803303718567, 1.0, 0.9395546317100525, 0.9224138259887695, 1.0, 1.0, 1.0, 1.0, 0.9293361902236938, 0.945147693157196, 1.0, 0.9059081077575684, 0.9484753012657166, 1.0, 0.9440338015556335, 1.0, 1.0, 1.0, 1.0, 0.9071038365364075, 0.9384289383888245, 0.9327641129493713, 1.0, 1.0, 0.9224138259887695, 1.0, 0.928188681602478, 0.9224138259887695, 1.0, 1.0, 0.9235737323760986, 0.9462592601776123, 0.9395546317100525, 0.9339019656181335, 1.0, 0.9440338015556335, 0.9395546317100525, 1.0, 1.0, 0.9929506778717041, 0.9373008012771606, 1.0, 0.9327641129493713, 0.9462592601776123, 1.0, 1.0, 0.9304813146591187, 1.0, 0.9270386099815369, 0.9293361902236938, 0.945147693157196, 0.9082969427108765]
FedFixer = [0.912912905216217, 0.9868287444114685, 0.9424460530281067, 0.9464882612228394, 0.8434782028198242, 0.9919354915618896, 0.9028571844100952, 0.9517685174942017, 0.9681335687637329, 0.9612187743186951, 0.9929506182670593, 0.9898989200592041, 0.9979959726333618, 0.9550387263298035, 0.9919354915618896, 0.9716598987579346, 0.9979959726333618, 0.995983898639679, 0.9979959726333618, 0.9979959726333618, 0.8929504156112671, 0.9919354915618896, 0.995983898639679, 0.9253730773925781, 0.9929506182670593, 0.9939637780189514, 0.8860759735107422, 0.9620253443717957, 0.9979959726333618, 0.8370043635368347, 0.89058518409729, 0.9919354915618896, 0.9552238583564758, 0.9647058844566345, 0.9868287444114685, 0.883720874786377, 0.995983898639679, 0.996990978717804, 0.934108555316925, 0.9909182786941528, 0.9949748516082764, 0.9067357182502747, 0.8944098949432373, 0.9898989200592041, 0.9949748516082764, 0.9919354915618896, 0.9898989200592041, 0.9551281332969666, 0.958707332611084, 0.9919354915618896, 0.8999999761581421, 0.965986430644989, 0.9898989200592041, 0.996990978717804, 0.9929506182670593, 0.9898989200592041, 0.9230769276618958, 0.9208333492279053, 0.995983898639679, 0.9786585569381714, 0.833333432674408, 0.996990978717804, 0.9432176947593689, 0.9949748516082764, 0.9939637780189514, 0.9949748516082764, 0.9898989200592041, 0.9545454978942871, 0.7852760553359985, 0.9037036895751953, 0.9909182786941528, 0.995983898639679, 0.9763779640197754, 0.996990978717804, 0.9929506182670593, 0.835365891456604, 0.9929506182670593, 0.9929506182670593, 0.9518072009086609, 0.9248555302619934, 0.9457364082336426, 0.9919354915618896, 0.9919354915618896, 0.9644669890403748, 0.9929506182670593, 0.995983898639679, 0.9939637780189514, 0.9929506182670593, 0.9413629770278931, 1.0, 0.9560810923576355, 0.9450914859771729, 0.9878542423248291, 0.9919354915618896, 0.9709543585777283, 0.9949748516082764, 0.9898989200592041, 0.9909182786941528, 0.9513513445854187, 0.9588138461112976]
 # 长度为100的列表
MR = [0.46471601724624634, 1.0, 0.73097825050354, 0.7510094046592712, 0.3665480315685272, 0.9999999403953552, 0.4958949387073517, 0.8247162699699402, 0.7763158082962036, 0.8318804502487183, 1.0, 1.0, 0.9999999403953552, 0.7544097900390625, 1.0, 0.8308080434799194, 1.0, 1.0, 1.0, 1.0, 0.5384615063667297, 1.0, 1.0, 0.6627906560897827, 0.9999999403953552, 1.0, 0.34074074029922485, 0.8316583037376404, 1.0, 0.37634411454200745, 0.5569620728492737, 1.0, 0.7984395027160645, 0.7874836921691895, 1.0, 0.45042017102241516, 0.9999999403953552, 1.0, 0.6886657476425171, 1.0, 0.9999999403953552, 0.5638629198074341, 0.46678027510643005, 1.0, 1.0, 1.0, 1.0, 0.7404371500015259, 0.7197802066802979, 0.9999999403953552, 0.43928566575050354, 0.8365508317947388, 1.0, 1.0, 1.0, 1.0, 0.6950353980064392, 0.6240487098693848, 1.0, 0.7860962152481079, 0.32209739089012146, 1.0, 0.7916666865348816, 1.0, 1.0, 1.0, 1.0, 0.8166449666023254, 0.28952381014823914, 0.5382165312767029, 0.9999999403953552, 0.9999999403953552, 0.8360450863838196, 1.0, 1.0, 0.4456140398979187, 0.9999999403953552, 1.0, 0.7999999523162842, 0.47098979353904724, 0.710042417049408, 1.0, 1.0, 0.7842105031013489, 1.0, 1.0, 1.0, 1.0, 0.7449392676353455, 0.9999999403953552, 0.7098591327667236, 0.7611335515975952, 0.9999999403953552, 1.0, 0.8005214929580688, 1.0, 1.0, 0.9999999403953552, 0.7001434564590454, 0.8015463948249817]
 # 长度为100的列表
RFL = [0.7115384340286255, 0.9868287444114685, 0.8594771027565002, 0.8816198706626892, 0.5806451439857483, 0.9909182786941528, 0.7117117047309875, 0.8952959775924683, 0.9165446162223816, 0.9288591146469116, 0.9898989200592041, 0.9878542423248291, 0.9939637780189514, 0.8995633125305176, 0.9868287444114685, 0.9384010434150696, 0.9898989200592041, 0.9868287444114685, 0.9858012199401855, 0.9898989200592041, 0.7347825765609741, 0.9929506182670593, 0.9888776540756226, 0.8449612259864807, 0.9858012199401855, 0.9919354915618896, 0.6057143211364746, 0.9243243336677551, 0.9929506182670593, 0.5574712753295898, 0.7719298005104065, 0.995983898639679, 0.9050633311271667, 0.9178469777107239, 0.9898989200592041, 0.6699507832527161, 0.9888776540756226, 0.9847716093063354, 0.8475176692008972, 0.9878542423248291, 0.9919354915618896, 0.7750556468963623, 0.6937799453735352, 0.9878542423248291, 0.9949748516082764, 0.9929506182670593, 0.9898989200592041, 0.8972809910774231, 0.8754097819328308, 0.9939637780189514, 0.6750629544258118, 0.9375829100608826, 0.9847716093063354, 0.9949748516082764, 0.9888776540756226, 0.9919354915618896, 0.8380634784698486, 0.8283581733703613, 0.9919354915618896, 0.9101449847221375, 0.6242774724960327, 0.9919354915618896, 0.8922155499458313, 0.9898989200592041, 0.9909182786941528, 0.9919354915618896, 0.9878542423248291, 0.9156293272972107, 0.42996746301651, 0.7744681239128113, 0.9939637780189514, 0.9898989200592041, 0.9429657459259033, 0.9888776540756226, 0.995983898639679, 0.678048849105835, 0.9919354915618896, 0.9888776540756226, 0.8999999165534973, 0.7387387752532959, 0.8747795820236206, 0.9939637780189514, 0.9888776540756226, 0.900787353515625, 0.9909182786941528, 0.9929506182670593, 0.9888776540756226, 0.9858012199401855, 0.8925373554229736, 0.9909182786941528, 0.8977636098861694, 0.8816198706626892, 0.9888776540756226, 0.9939637780189514, 0.9372496604919434, 0.9929506182670593, 0.9888776540756226, 0.9939637780189514, 0.8712871670722961, 0.8975155353546143]
# 长度为100的列表

# 将数据整理成一个DataFrame，方便绘图
import pandas as pd

data = pd.DataFrame({
    'FedCorr': FedCorr,
    'FedFixer': FedFixer,
    'MR': MR,
    'RFL': RFL
})

# 创建小提琴图
ax = sns.violinplot(data=data, palette='Set1', inner='quartile', linewidth=1.5)

# 调整坐标轴线的线宽为2
ax.spines['top'].set_linewidth(1.5)
ax.spines['bottom'].set_linewidth(1.5)
ax.spines['left'].set_linewidth(1.5)
ax.spines['right'].set_linewidth(1.5)

# 调整坐标轴刻度线的线宽为1.5
ax.tick_params(axis='both', width=1.5)

# 调整坐标轴刻度标签的线宽为1.5
ax.xaxis.label.set_size(10)
ax.yaxis.label.set_size(10)

# 设置坐标轴刻度标签的字体为 Times New Roman 和字体大小为 20，加粗
ax.set_xticks(ax.get_xticks())
ax.set_yticks(ax.get_yticks())
ax.set_xticklabels(ax.get_xticklabels(), fontproperties=font2)
ax.set_yticklabels(ax.get_yticklabels(), fontproperties=font2)

# 添加标题和标签
plt.title('Clients\' F-score Distribution', fontproperties=font1)
plt.xlabel('Algorithm', fontproperties=font1)
plt.ylabel('F-score', fontproperties=font1)

# 保存图表为高清的PDF文件
plt.savefig('violin_plot_IID_rou_0.5_tau_0.3.pdf', dpi=300, bbox_inches='tight')

# 显示图形
plt.show()
