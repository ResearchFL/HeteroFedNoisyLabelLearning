import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties

# 设置字体为 Times New Roman 和字体大小为 20
font1 = FontProperties(family='Times New Roman', size=25, weight='bold')
font2 = FontProperties(family='Times New Roman', size=20, weight='bold')

# 假设你有四个算法的F-score分布数据
global_fscore = [0.8888888955116272, 0.7874999642372131, 0.946601927280426, 0.9383116960525513, 0.8339483141899109, 0.9541899561882019, 0.891986072063446, 0.9563953280448914, 0.957446813583374, 0.9547218680381775, 0.8470588326454163, 0.9540373086929321, 0.9305816292762756, 0.934959352016449, 0.9398907423019409, 0.9628866314888, 0.923529326915741, 0.9123867154121399, 0.8701754808425903, 0.9512670636177063, 0.8870293498039246, 0.8078818321228027, 0.8839778900146484, 0.9252873659133911, 0.9628378748893738, 0.8148148655891418, 0.9021738767623901, 0.9727047085762024, 0.936170220375061, 0.82758629322052, 0.8783069252967834, 0.9704917669296265, 0.9425287246704102, 0.9473684430122375, 0.9315961003303528, 0.8406779170036316, 0.746268630027771, 0.8648648858070374, 0.9144385457038879, 0.8456789255142212, 0.9473684430122375, 0.9060150384902954, 0.9215685725212097, 0.9211469888687134, 0.9234694242477417, 0.9515418410301208, 0.9227467775344849, 0.9406392574310303, 0.9245283603668213, 0.9393938779830933, 0.9070631861686707, 0.9488704800605774, 0.9144384860992432, 0.9433962106704712, 0.922374427318573, 0.9471033215522766, 0.9307692050933838, 0.8867314457893372, 0.9588652849197388, 0.9587628245353699, 0.907630443572998, 0.9244851469993591, 0.9655172228813171, 0.875, 0.7904191613197327, 0.7796610593795776, 0.8950276374816895, 0.9273083806037903, 0.8370043635368347, 0.9112149477005005, 0.7920792698860168, 0.909699022769928, 0.9496773481369019, 0.826923131942749, 0.9376257061958313, 0.8914728760719299, 0.9435897469520569, 0.947826087474823, 0.9495549201965332, 0.8738738894462585, 0.9075268507003784, 0.881028950214386, 0.6545454859733582, 0.9357430338859558, 0.9579287767410278, 0.9276438355445862, 0.8935185074806213, 0.757709264755249, 0.9322381615638733, 0.9351145029067993, 0.90625, 0.9424242377281189, 0.9515418410301208, 0.7972972989082336, 0.9753915071487427, 0.8433734774589539, 0.8194444179534912, 0.9045643210411072, 0.9255897998809814, 0.9288486242294312]
personalized_fscore = [0.7258065342903137, 0.06578947603702545, 0.9609755873680115, 0.9375, 0.1818181723356247, 0.903225839138031, 0.8140351176261902, 0.9498525261878967, 0.9240506291389465, 0.9515071511268616, 0.5364431738853455, 0.9588014483451843, 0.9520153403282166, 0.9662027955055237, 0.9175823926925659, 0.9359503984451294, 0.9754601120948792, 0.7770701050758362, 0.40343350172042847, 0.960629940032959, 0.7822221517562866, 0.08163265138864517, 0.8850575089454651, 0.8869310021400452, 0.9280822277069092, 0.352059930562973, 0.49289101362228394, 0.9603959918022156, 0.9015317559242249, 0.4830508530139923, 0.8093525767326355, 0.95333331823349, 0.9362319111824036, 0.9436619877815247, 0.7748344540596008, 0.6035087704658508, 0.18018017709255219, 0.5877862572669983, 0.8540540933609009, 0.5133333802223206, 0.959276020526886, 0.7602339386940002, 0.7319587469100952, 0.9653916358947754, 0.8716577887535095, 0.9177876710891724, 0.9347826242446899, 0.9573034048080444, 0.9102563858032227, 0.9409524202346802, 0.7843137383460999, 0.930402934551239, 0.8346883058547974, 0.9221311807632446, 0.9048724174499512, 0.935064971446991, 0.921933114528656, 0.8888888955116272, 0.9403409361839294, 0.9735449552536011, 0.375545859336853, 0.8436018824577332, 0.9543859362602234, 0.6082474589347839, 0.22525595128536224, 0.5066666603088379, 0.7191011309623718, 0.9116466045379639, 0.16842105984687805, 0.8103044629096985, 0.22093023359775543, 0.9220339059829712, 0.9254498481750488, 0.17999999225139618, 0.9452332258224487, 0.6468401551246643, 0.8952879905700684, 0.9519650340080261, 0.9546827673912048, 0.695652186870575, 0.8584269881248474, 0.9260450005531311, 0.23157894611358643, 0.9362550377845764, 0.931552529335022, 0.8677839636802673, 0.5275779366493225, 0.12154696136713028, 0.9497908353805542, 0.8560311198234558, 0.950617253780365, 0.9391575455665588, 0.9561402797698975, 0.3722943663597107, 0.9775784611701965, 0.4503311216831207, 0.16410256922245026, 0.680327832698822, 0.9172932505607605, 0.9157894849777222]

# 将数据整理成一个DataFrame，方便绘图
import pandas as pd

data = pd.DataFrame({
    'global': global_fscore,
    'personalized': personalized_fscore
})

# 创建小提琴图
ax = sns.violinplot(data=data, palette='Set1', inner='quartile', linewidth=1.5)

# 调整坐标轴线的线宽为2
ax.spines['top'].set_linewidth(1.5)
ax.spines['bottom'].set_linewidth(1.5)
ax.spines['left'].set_linewidth(1.5)
ax.spines['right'].set_linewidth(1.5)

# 调整坐标轴刻度线的线宽为1.5
ax.tick_params(axis='both', width=1.5)

# 调整坐标轴刻度标签的线宽为1.5
ax.xaxis.label.set_size(10)
ax.yaxis.label.set_size(10)

# 设置坐标轴刻度标签的字体为 Times New Roman 和字体大小为 20，加粗
ax.set_xticks(ax.get_xticks())
ax.set_yticks(ax.get_yticks())
ax.set_xticklabels(ax.get_xticklabels(), fontproperties=font2)
ax.set_yticklabels(ax.get_yticklabels(), fontproperties=font2)

# 添加标题和标签
plt.title('Clients\' Fscore Distribution', fontproperties=font1)
plt.xlabel('Algorithm', fontproperties=font1)
plt.ylabel('F-score', fontproperties=font1)

# 保存图表为高清的PDF文件
plt.savefig('violin_plot_nonIID_rou_1_tau_0.5.pdf', dpi=300, bbox_inches='tight')

# 显示图形
plt.show()
